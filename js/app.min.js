var STONE_BLOCK_WIDTH=101,STONE_BLOCK_HEIGHT=171,Enemy=function(){this.x=0;var e=Math.floor(3*Math.random())+1;switch(e){case 1:this.y=1/3*STONE_BLOCK_HEIGHT;break;case 2:this.y=1/3*STONE_BLOCK_HEIGHT+.5*STONE_BLOCK_HEIGHT;break;case 3:this.y=1/3*STONE_BLOCK_HEIGHT+1*STONE_BLOCK_HEIGHT;break;default:throw"invalid track number, please use 1, 2 or 3 to specify the track in the topdown order"}this.sprite="images/enemy-bug.png"};Enemy.prototype.update=function(e){this.speed=20,this.x=this.x+this.speed*e,this.render()},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var Player=function(e){this.name=e,this.image="images/char-boy.png",this.x=0,this.y=2.5*STONE_BLOCK_HEIGHT-20,this.gridX=0,this.gridY=0};Player.prototype.update=function(){this.render()},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.image),this.x,this.y)},Player.prototype.handleInput=function(e){if(e)switch(e){case"left":this.gridX>0&&(this.x=this.x-STONE_BLOCK_WIDTH,this.gridX--,this.update());break;case"up":this.gridY<4&&(this.y=this.y-STONE_BLOCK_HEIGHT/2,this.gridY++,this.update());break;case"right":this.gridX<4&&(this.x=this.x+STONE_BLOCK_WIDTH,this.gridX++,this.update());break;case"down":this.gridY>0&&(this.y=this.y+STONE_BLOCK_HEIGHT/2,this.gridY--,this.update())}};for(var allEnemies=[],i=0;i<3;i++){var enemy=new Enemy;allEnemies.push(enemy)}var player=new Player("sunrise2075");document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])});